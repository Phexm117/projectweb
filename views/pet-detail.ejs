<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡∏ï‡∏ß‡πå - Home4Pets</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="/style.css">
</head>
<body>

<nav class="navbar">
  <div class="d-flex align-items-center gap-2">
    <img src="/green_house_logo-removebg-preview.png" alt="Logo" style="height: 30px; margin-right: 8px;"> <a href="/" style="text-decoration: none;"><span class="navbar-brand">Home4Pets</span></a>
  </div>

  <div class="d-flex align-items-center">
    <a class="nav-link" href="/home">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
    <a class="nav-link" href="/home">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πå</a>
    <a class="nav-link" href="/recommended">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</a>
    <a class="nav-link" href="/favorites">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</a>

    <div class="user-badge ms-3">
      <span><%= user.name %></span>
      <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png">
    </div>
  </div>
</nav>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-5">
      <div style="background: linear-gradient(135deg, #ffc9e3 0%, #ffb3d9 100%); border-radius: 20px; padding: 20px; text-align: center; position: relative;">
        <img src="/‡πÅ‡∏°‡∏ß.jpg" alt="<%= petData.name %>" style="width: 100%; height: 300px; object-fit: cover; border-radius: 15px;">
        <div style="margin-top: 15px; font-size: 18px;">
          <span style="cursor: pointer; font-size: 24px;" onclick="toggleDetailFavorite(this)">ü§ç</span>
          <span style="margin-left: 10px;">1K</span>
        </div>
      </div>
    </div>

    <div class="col-md-7">
      <h2><%= petData.name %></h2>
      
      <div style="background: #f5f5f5; padding: 20px; border-radius: 15px; margin: 20px 0;">
        <p><strong>‡∏™‡∏ß‡∏¥‡∏™‡∏ï‡∏¥‡∏Ñ‡∏£‡∏±‡∏ö , ‡∏ú‡∏°‡∏ä‡∏∑‡πà‡∏≠ <%= petData.name %> ‡∏Ñ‡∏£‡∏±‡∏ö</strong></p>
        
        <p><strong>‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏°‡∏ß:</strong> <%= petData.id %></p>
        <p><strong>‡πÄ‡∏û‡∏®‡∏ú‡∏π‡πâ:</strong> <%= petData.gender %></p>
        <p><strong>‡∏≠‡∏≤‡∏¢‡∏∏:</strong> <%= petData.age %></p>
        <p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û :</strong> ‡∏î‡∏µ‡πÑ‡∏°‡πà‡πÅ‡∏•‡πâ‡∏ß</p>
        <p><strong>‡∏™‡∏µ :</strong> ‡∏™‡∏≤‡∏°‡∏™‡∏µ‡∏õ‡∏ì-‡∏Ç‡∏≤‡∏ß</p>
        
        <p style="margin-top: 20px; line-height: 1.8;">
          ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á : ‡∏õ‡∏•‡∏≤‡∏¢‡πÄ‡∏´‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏°‡∏ß‡∏Ç‡πâ‡∏ô‡πÄ‡∏Ç‡∏µ‡πâ‡∏¢‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏π‡∏ï‡∏±‡∏î‡πÄ‡∏Ç‡∏¥‡∏á‡∏´‡∏ô‡∏≤‡∏° ‡∏ú‡∏•‡∏≠‡∏±‡∏ô‡∏®‡∏£‡∏±‡∏ó‡∏ò‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏†‡∏≤‡∏ß ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏ä‡∏Ñ‡πâ‡∏ô‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏π‡∏ô‡∏¢‡πå ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ
        </p>
      </div>

      <a href="/home" class="btn btn-secondary mt-3">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</a>
      <button class="btn btn-success mt-3 ms-2">‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</button>
    </div>
  </div>
  
  <!-- Image Gallery -->
  <div style="margin-top: 40px; border-top: 1px solid #ddd; padding-top: 20px;">
    <h5>‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h5>
    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
      <img src="/‡πÅ‡∏°‡∏ß.jpg" style="width: 120px; height: 120px; object-fit: cover; border-radius: 10px;">
      <img src="/‡πÅ‡∏°‡∏ß.jpg" style="width: 120px; height: 120px; object-fit: cover; border-radius: 10px;">
      <img src="/‡πÅ‡∏°‡∏ß.jpg" style="width: 120px; height: 120px; object-fit: cover; border-radius: 10px;">
    </div>
  </div>
</div>

<footer class="text-center text-muted mt-5 mb-3">
  ¬© 2026 Home4Pets | Project for Education
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
function toggleDetailFavorite(element) {
  const petId = '<%= petData.id %>';
  let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
  const petData = { id: petId, name: '<%= petData.name %>', gender: '<%= petData.gender %>', age: '<%= petData.age %>' };
  
  const exists = favorites.find(pet => pet.id === petId);
  
  if (exists) {
    favorites = favorites.filter(pet => pet.id !== petId);
    element.textContent = 'ü§ç';
  } else {
    favorites.push(petData);
    element.textContent = '‚ù§Ô∏è';
  }
  
  localStorage.setItem('favorites', JSON.stringify(favorites));
}

// Load favorite on page load
window.addEventListener('load', function() {
  const petId = '<%= petData.id %>';
  const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
  const heartIcon = document.querySelector('[onclick*="toggleDetailFavorite"]');
  
  if (favorites.find(pet => pet.id === petId)) {
    heartIcon.textContent = '‚ù§Ô∏è';
  }
});
</script>

</body>
</html>
