<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡∏ï‡∏ß‡πå - Home4Pets</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="/style.css">
</head>
<body>

<nav class="navbar">
  <div class="d-flex align-items-center gap-2">
    <img src="/green_house_logo-removebg-preview.png" alt="Logo" style="height: 30px; margin-right: 8px;"> <a href="/" style="text-decoration: none;"><span class="navbar-brand">Home4Pets</span></a>
  </div>

  <div class="d-flex align-items-center">
    <a class="nav-link" href="/home">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
    <a class="nav-link" href="/home">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πå</a>
    <a class="nav-link" href="/recommended">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</a>
    <a class="nav-link" href="/favorites">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</a>

    <div class="user-badge ms-3">
      <span><%= user.name %></span>
      <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png">
    </div>
  </div>
</nav>

<section class="hero" style="background-image: url('/banner.jpg'); background-size: cover; background-position: center;">
</section>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-5">
      <!-- Main Image Carousel -->
      <div id="mainImageCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="/uploads/conun.jpg" alt="<%= petData.name %>" class="d-block w-100" style="height: 300px; object-fit: cover; border-radius: 15px;">
          </div>
          <div class="carousel-item">
            <img src="/uploads/conun.jpg" alt="<%= petData.name %>" class="d-block w-100" style="height: 300px; object-fit: cover; border-radius: 15px;">
          </div>
          <div class="carousel-item">
            <img src="/uploads/conun.jpg" alt="<%= petData.name %>" class="d-block w-100" style="height: 300px; object-fit: cover; border-radius: 15px;">
          </div>
          <div class="carousel-item">
            <img src="/uploads/conun.jpg" alt="<%= petData.name %>" class="d-block w-100" style="height: 300px; object-fit: cover; border-radius: 15px;">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#mainImageCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#mainImageCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      
      <div style="margin-top: 15px; font-size: 18px;">
        <span style="cursor: pointer; font-size: 24px;" onclick="toggleDetailFavorite(this)">ü§ç</span>
      </div>
    </div>

        <div class="col-md-7">
          <h2><%= petData.name %></h2>
          
          <div style="background: #f5f5f5; padding: 20px; border-radius: 15px; margin: 20px 0;">
            <p><strong style="color:#3c7f71; font-size: 2em;">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö , ‡∏ú‡∏°‡∏ä‡∏∑‡πà‡∏≠ <%= petData.name %> ‡∏Ñ‡∏£‡∏±‡∏ö</strong></p>
        
            <p><strong>‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏°‡∏ß:</strong> <%= petData.id %></p>
            <p><strong>‡πÄ‡∏û‡∏®‡∏ú‡∏π‡πâ:</strong> <%= petData.gender %></p>
            <p><strong>‡∏≠‡∏≤‡∏¢‡∏∏:</strong> <%= petData.age %></p>
            <p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û :</strong> ‡∏ó‡∏≥‡∏´‡∏°‡∏±‡∏ô‡πÄ‡πÄ‡∏•‡πâ‡∏ß</p>
            <p><strong>‡∏™‡∏µ :</strong>‡∏Ç‡∏≤‡∏ß</p>
            
            <p style="margin-top: 20px; line-height: 1.8;">
              ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á 
            </p>
          </div>

          <a href="/home" class="btn btn-secondary mt-3">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</a>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>



<footer class="text-center text-muted mt-5 mb-3">
  ¬© 2026 Home4Pets | Project for Education
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
function toggleDetailFavorite(element) {
  const petId = '<%= petData.id %>';
  let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
  const petData = { id: petId, name: '<%= petData.name %>', gender: '<%= petData.gender %>', age: '<%= petData.age %>' };
  
  const exists = favorites.find(pet => pet.id === petId);
  
  if (exists) {
    favorites = favorites.filter(pet => pet.id !== petId);
    element.textContent = 'ü§ç';
  } else {
    favorites.push(petData);
    element.textContent = '‚ù§Ô∏è';
  }
  
  localStorage.setItem('favorites', JSON.stringify(favorites));
}

// Load favorite on page load
window.addEventListener('load', function() {
  const petId = '<%= petData.id %>';
  const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
  const heartIcon = document.querySelector('[onclick*="toggleDetailFavorite"]');
  
  if (favorites.find(pet => pet.id === petId)) {
    heartIcon.textContent = '‚ù§Ô∏è';
  }
});
</script>
</body>
</html>
